@{
    ViewData["Title"] = "Home";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="bg-white py-10 md:py-20 text-black relative w-full">
    <div class="mx-auto">
        <!-- Hero Section -->
        <section class="py-0 md:py-20 px-4 md:px-6 lg:px-20 flex flex-col-reverse lg:flex-row items-center gap-3 md:gap-14 max-w-7xl mx-auto">
            <div class="lg:w-1/2 mt-14 md:mt-0">
                <a href="@(User.Identity != null && User.Identity.IsAuthenticated ? "#trial" : "/Areas/Identity/Pages/Account/Auths/Register?returnUrl=" + Url.Action("Index", "Home") + "%23trial")" 
                   class="inline-flex items-center bg-[#c9a227]/10 px-4 py-2 rounded-full mb-6 hover:bg-[#c9a227]/20 transition-colors">
                    <span class="text-[#c9a227] font-bold">âœ¨ 7-Day Free Trial Available</span>
                </a>
                <h1 class="text-5xl lg:text-6xl font-bold text-[#1B1B1B] leading-tight mb-6">
                    Healthy Eating, <span class="text-[#c9a227]">Made Simple</span> & Enjoyable
                </h1>
                <p class="text-xl text-[#37474F] mb-8 leading-relaxed">
                    Easy-to-follow meal plans designed for your needs. Large print, simple instructions, and delicious meals you'll love.
                </p>
                <div class="flex flex-wrap gap-4">
                    <a href="@(User.Identity != null && User.Identity.IsAuthenticated ? "/Areas/Identity/Pages/Meals/MealPlans/CreateMealPlan" : "/Areas/Identity/Pages/Account/Auths/Register?returnUrl=" + Url.Action("Index", "Home") + "%23trial")"
                       class="inline-block bg-[#c9a227] hover:bg-[#b48e22] text-white font-semibold py-4 px-10 rounded-xl text-lg shadow-md transition">
                        @(User.Identity != null && User.Identity.IsAuthenticated ? "Start Generating" : "Start 7-Day Free Trial")
                    </a>
                    <a href="#features"
                       class="inline-block bg-white border-2 border-[#c9a227]/30 hover:border-[#c9a227]/50 text-[#c9a227] font-semibold py-4 px-10 rounded-xl text-lg shadow-sm transition">
                        See How It Works
                    </a>
                </div>
            </div>
            <div class="lg:w-1/2 text-center group relative mt-0 pt-0 md:mt-8">
                <img src="~/assets/group_people_eating.png" alt="Healthy Food and Elderly"
                     class="rounded-2xl shadow-xl w-full max-w-md h-auto max-h-[300px] md:max-h-[400px] object-cover mx-auto transform transition duration-500 group-hover:scale-105 group-hover:shadow-2xl hero-section-image" />
                <!-- Floating Trust Badges -->
                <div class="absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-white rounded-xl shadow-lg p-4 flex gap-6">
                    <div class="flex items-center gap-2">
                        <svg class="w-6 h-6 text-[#c9a227]" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                        </svg>
                        <span class="font-semibold text-gray-800">1.0/5 Rating</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <svg class="w-6 h-6 text-[#c9a227]" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"/>
                        </svg>
                        <span class="font-semibold text-gray-800">2 Users</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Special Features Section - Redesigned with staggered layout -->
        <section id="features" class="py-24 max-w-6xl mx-auto px-6">
            <div class="text-center mb-16 fade-in">
                <span class="inline-block bg-[#c9a227]/10 px-4 py-1 rounded-full text-[#c9a227] font-medium text-sm mb-3">OUR FEATURES</span>
                <h2 class="text-4xl md:text-5xl font-bold text-gray-900">What Makes GetMoving Menu Special?</h2>
                <div class="w-24 h-1 bg-[#c9a227] mx-auto mt-6 rounded-full"></div>
            </div>
            
            <!-- Feature 1 - Left aligned -->
            <div class="flex flex-col md:flex-row items-center mb-16 fade-in">
                <div class="md:w-1/2 p-6 md:p-12">
                    <div class="w-20 h-20 bg-[#c9a227]/10 rounded-2xl flex items-center justify-center mb-6 transform rotate-6">
                        <svg class="w-10 h-10 text-[#c9a227]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                        </svg>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 mb-4">Personalized for You</h3>
                    <p class="text-xl text-gray-600 mb-6 leading-relaxed">Get meal plans tailored to your unique preferences, dietary needs, and health goals. Every recommendation is designed specifically for you.</p>
                    <ul class="space-y-3">
                        <li class="flex items-center">
                            <svg class="w-5 h-5 text-[#c9a227] mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                            <span class="text-gray-700">Dietary restriction aware</span>
                        </li>
                        <li class="flex items-center">
                            <svg class="w-5 h-5 text-[#c9a227] mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                            <span class="text-gray-700">Favorite foods prioritized</span>
                        </li>
                    </ul>
                </div>
                <div class="md:w-1/2 p-6">
                    <img src="~/assets/personalized-meals.jpg" alt="Personalized Meals" class="rounded-2xl shadow-xl w-full h-auto object-cover transform hover:scale-105 transition duration-500" onerror="this.src='https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'"/>
                </div>
            </div>
            
            <!-- Feature 2 - Right aligned -->
            <div class="flex flex-col md:flex-row-reverse items-center mb-16 fade-in">
                <div class="md:w-1/2 p-6 md:p-12">
                    <div class="w-20 h-20 bg-[#c9a227]/10 rounded-2xl flex items-center justify-center mb-6 transform -rotate-6">
                        <svg class="w-10 h-10 text-[#c9a227]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                        </svg>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 mb-4">Easy to Follow</h3>
                    <p class="text-xl text-gray-600 mb-6 leading-relaxed">Simple, clear instructions designed with accessibility in mind. Large print, step-by-step guidance, and intuitive organization.</p>
                    <ul class="space-y-3">
                        <li class="flex items-center">
                            <svg class="w-5 h-5 text-[#c9a227] mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                            <span class="text-gray-700">Large, readable text</span>
                        </li>
                        <li class="flex items-center">
                            <svg class="w-5 h-5 text-[#c9a227] mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                            <span class="text-gray-700">Simple, clear steps</span>
                        </li>
                    </ul>
                </div>
                <div class="md:w-1/2 p-6">
                    <img src="~/assets/easy-instructions.jpg" alt="Easy to Follow Instructions" class="rounded-2xl shadow-xl w-full h-auto object-cover transform hover:scale-105 transition duration-500" onerror="this.src='https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'"/>
                </div>
            </div>
            
            <!-- Feature 3 - Left aligned -->
            <div class="flex flex-col md:flex-row items-center fade-in">
                <div class="md:w-1/2 p-6 md:p-12">
                    <div class="w-20 h-20 bg-[#c9a227]/10 rounded-2xl flex items-center justify-center mb-6 transform rotate-3">
                        <svg class="w-10 h-10 text-[#c9a227]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 mb-4">Saves You Time</h3>
                    <p class="text-xl text-gray-600 mb-6 leading-relaxed">Get back hours of your week with automated meal planning. No more lengthy recipe searches or complicated grocery lists.</p>
                    <ul class="space-y-3">
                        <li class="flex items-center">
                            <svg class="w-5 h-5 text-[#c9a227] mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                            <span class="text-gray-700">Ready in seconds</span>
                        </li>
                        <li class="flex items-center">
                            <svg class="w-5 h-5 text-[#c9a227] mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                            <span class="text-gray-700">Automatic grocery lists</span>
                        </li>
                    </ul>
                </div>
                <div class="md:w-1/2 p-6">
                    <img src="~/assets/time-saving.jpg" alt="Time Saving" class="rounded-2xl shadow-xl w-full h-auto object-cover transform hover:scale-105 transition duration-500" onerror="this.src='https://images.unsplash.com/photo-1574484284002-952d92456975?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80'"/>
                </div>
            </div>
        </section>

        <!-- How It Works Section - Redesigned with Timeline Flow -->
        <section id="how-it-works" class="py-24 bg-gray-50">
            <div class="max-w-6xl mx-auto px-6">
                <div class="text-center mb-20 fade-in">
                    <span class="inline-block bg-[#c9a227]/10 px-4 py-1 rounded-full text-[#c9a227] font-medium text-sm mb-3">SIMPLE PROCESS</span>
                    <h2 class="text-4xl md:text-5xl font-bold text-gray-900">How It Works</h2>
                    <p class="text-xl text-gray-600 mt-4 max-w-3xl mx-auto">Getting your perfect meal plan is easy. Follow these simple steps to create your personalized plan.</p>
                    <div class="w-24 h-1 bg-[#c9a227] mx-auto mt-6 rounded-full"></div>
                </div>

                <!-- Timeline Process -->
                <div class="relative">
                    <!-- Vertical line for desktop -->
                    <div class="hidden md:block absolute left-1/2 transform -translate-x-1/2 h-full border-l-4 border-[#c9a227]/20 z-0"></div>
                    
                    @{
                        string[] steps = { "Login/Register", "Open MealPlanner", "Pick Your Favorites", "Generate Your Plan", "Review & Adjust", "Download & Enjoy" };
                        string[] descriptions = { 
                            "Create an account or log in to get started. We'll remember your preferences for next time.",
                            "Navigate to the meal planner section where you can start customizing your perfect meal plan.",
                            "Tell us what foods you enjoy, any dietary restrictions, and specific health goals you have.",
                            "With a single click, our smart algorithm creates a personalized plan tailored just for you.",
                            "Don't like something? No problem! Easily swap meals or ingredients until everything looks perfect.",
                            "Save your plan, print it out, and access it anytime."
                        };
                        string[] svgPaths = {
                            "M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",
                            "M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",
                            "M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z",
                            "M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4",
                            "M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z",
                            "M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
                        };
                        string[] animations = { "fade-right", "fade-left", "fade-right", "fade-left", "fade-right", "fade-left" };
                    }

                    @for (int i = 0; i < steps.Length; i++)
                    {
                        string alignment = i % 2 == 0 ? "md:flex-row" : "md:flex-row-reverse";
                        string textAlignment = i % 2 == 0 ? "md:text-right" : "md:text-left";
                        string marginClass = i % 2 == 0 ? "md:mr-auto md:ml-0" : "md:ml-auto md:mr-0";
                        
                        <div class="flex flex-col @alignment items-center mb-16 md:mb-24 relative z-10 fade-in">
                            <!-- Step number -->
                            <div class="flex items-center justify-center w-12 h-12 rounded-full bg-[#c9a227] text-white font-bold text-xl absolute md:static top-0 left-4 md:mx-4 z-20">
                                @(i + 1)
                            </div>
                            
                            <!-- Content container -->
                            <div class="w-full md:w-5/12 bg-white p-6 rounded-2xl shadow-lg ml-10 md:ml-0 @marginClass border-l-4 md:border-l-0 border-[#c9a227]">
                                <div class="w-16 h-16 bg-[#c9a227]/10 rounded-2xl flex items-center justify-center mb-4">
                                    <svg class="w-8 h-8 text-[#c9a227]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="@svgPaths[i]"/>
                                    </svg>
                                </div>
                                <h3 class="text-2xl font-bold text-gray-900 mb-3">@steps[i]</h3>
                                <p class="text-lg text-gray-600 @textAlignment">@descriptions[i]</p>
                            </div>
                        </div>
                    }
                </div>
                
                <!-- Call to action button -->
                <div class="text-center mt-12 fade-in">
                    <a href="#trial" class="inline-flex items-center bg-[#c9a227] hover:bg-[#b48e22] text-white font-semibold py-4 px-10 rounded-xl text-lg shadow-lg transition">
                        Start Your Journey Now
                        <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
                        </svg>
                    </a>
                </div>
            </div>
        </section>

        <!-- Call to Action Section -->
        <section id="trial" class="py-20 text-center bg-gradient-to-br from-[#c9a227]/5 via-[#c9a227]/10 to-[#c9a227]/5">
            <div class="max-w-4xl mx-auto px-6">
                <span class="inline-block bg-[#c9a227]/10 text-[#c9a227] font-semibold px-4 py-1 rounded-full text-sm mb-6">LIMITED TIME OFFER</span>
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Try GetMoving Menu Free for 7 Days</h2>
                <p class="text-xl text-gray-600 mb-8">Experience better meal planning with no commitment. Cancel anytime during your trial.</p>
                
                <!-- Trial Benefits -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                    <div class="bg-white p-6 rounded-xl shadow-sm">
                        <svg class="w-8 h-8 text-[#c9a227] mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <h3 class="text-lg font-semibold text-gray-900 mb-2">Full Access</h3>
                        <p class="text-gray-600">Try all features with no restrictions</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm">
                        <svg class="w-8 h-8 text-[#c9a227] mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <h3 class="text-lg font-semibold text-gray-900 mb-2">No Credit Card</h3>
                        <p class="text-gray-600">Start your trial without payment info</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm">
                        <svg class="w-8 h-8 text-[#c9a227] mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                        <h3 class="text-lg font-semibold text-gray-900 mb-2">Instant Access</h3>
                        <p class="text-gray-600">Get your first meal plan today</p>
                    </div>
                </div>

                <a href="@(User.Identity != null && User.Identity.IsAuthenticated ? "/Areas/Identity/Pages/Meals/MealPlans/CreateMealPlan" : "/Areas/Identity/Pages/Account/Auths/Register?returnUrl=/Areas/Identity/Pages/Meals/MealPlans/CreateMealPlan")"
                   class="inline-flex items-center bg-[#c9a227] hover:bg-[#b48e22] text-white font-semibold py-4 px-10 rounded-xl text-lg shadow-lg transition-all duration-300 group">
                    @(User.Identity != null && User.Identity.IsAuthenticated ? "Start Generating Now" : "Start Your Free Trial")
                    <svg class="w-5 h-5 ml-2 transform group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
                    </svg>
                </a>
                <p class="text-sm text-gray-500 mt-6">No credit card required â€¢ Cancel anytime</p>
            </div>
        </section>
    </div>
</div>

<!-- Added the Inter Font Link -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
<style>
    html {
        scroll-behavior: smooth;
    }
    body {
        font-family: 'Inter', sans-serif;
    }
    
    /* Scroll padding to ensure sections are centered when scrolled to */
    section[id] {
        scroll-margin-top: 6rem;
        position: relative;
        overflow: hidden;
    }

    /* Enhanced fade-in animations for sections */
    .fade-in {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.8s ease-out, transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        will-change: opacity, transform;
    }
    .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
    }
    
    /* Timeline styles */
    @@media (min-width: 768px) {
        .fade-right {
            transform: translateX(30px);
        }
        .fade-left {
            transform: translateX(-30px);
        }
        .fade-right.visible, .fade-left.visible {
            transform: translateX(0);
        }
    }
    
    /* Active navigation link styling */
    a[href^="#"].active {
        color: #c9a227; /* gold */
        font-weight: 600;
    }
    
    /* Mobile image adjustments */
    @@media (max-width: 768px) {
        .hero-section-image {
            margin-top: 0 !important;
            padding-top: 0 !important;
            max-height: 280px;
        }
        
        /* Remove padding from hero section on mobile */
        .bg-white.py-10 {
            padding-top: 0.5rem !important;
        }
        
        section.py-0 {
            padding-top: 0 !important;
            margin-top: 0 !important;
        }
        
        /* Add more space below image for trust badges on mobile */
        section.py-0 {
            padding-bottom: 60px !important;
        }
    }
    
    /* Image hover effects */
    .feature-image {
        overflow: hidden;
        position: relative;
    }
    .feature-image::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom right, rgba(201, 162, 39, 0.2), transparent);
        opacity: 0;
        transition: opacity 0.3s;
        pointer-events: none;
    }
    .feature-image:hover::after {
        opacity: 1;
    }
    
    /* Shadow enhancement for cards */
    .shadow-hover {
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .shadow-hover:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
</style>

<!-- Add JavaScript for animations -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    // Calculate position to center the element better in viewport
                    // Adjusted to give more breathing room at the top
                    const windowHeight = window.innerHeight;
                    const elementHeight = targetElement.offsetHeight;
                    
                    // If element is taller than viewport, scroll to top with some padding
                    // Otherwise center it
                    let offset;
                    if (elementHeight > windowHeight * 0.8) {
                        offset = targetElement.offsetTop - 100; // 100px from top
                    } else {
                        // Center smaller elements in the viewport with slight upward bias
                        offset = targetElement.offsetTop - (windowHeight - elementHeight) / 3;
                    }
                    
                    window.scrollTo({
                        top: offset,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Staggered animation timing for grouped elements
        const applyStaggeredAnimation = (selector, delayIncrement = 100) => {
            const elements = document.querySelectorAll(selector);
            elements.forEach((el, index) => {
                el.style.transitionDelay = `${index * delayIncrement}ms`;
            });
        };

        // Apply staggered animations
        applyStaggeredAnimation('#features .fade-in', 200);
        applyStaggeredAnimation('#how-it-works .fade-in', 150);

        // Intersection Observer for fade-in animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { 
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px' // Trigger a bit earlier
        });

        // Observe all elements with fade-in class
        document.querySelectorAll('.fade-in').forEach(element => {
            observer.observe(element);
        });
        
        // Add active state to nav links based on scroll position
        const sections = document.querySelectorAll('section[id]');
        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.offsetHeight;
                if (window.scrollY >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });
            
            document.querySelectorAll('a[href^="#"]').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').substring(1) === current) {
                    link.classList.add('active');
                }
            });
        });
    });
</script>
